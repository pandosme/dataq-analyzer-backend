# =============================================
# DataQ Analyzer Backend Configuration
# =============================================

# ----- Server Configuration -----
NODE_ENV=production
PORT=3303

# ----- Authentication -----
# IMPORTANT: Run setup.sh to generate a secure JWT secret!
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# ----- Admin Account (Environment-based) -----
# Admin account stored in .env, not database
# Run setup.sh to configure and hash the password
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD_HASH=$2b$10$example_bcrypt_hash_here

# =============================================
# MongoDB Configuration
# =============================================
# setup.sh will construct MONGODB_URI from components

# ----- For Bundled MongoDB (Docker) -----
# Generated when choosing bundled option in setup.sh
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_DATABASE=dataq-analyzer
MONGODB_USERNAME=admin
MONGODB_PASSWORD=changeme
MONGODB_AUTH_REQUIRED=true

# ----- For External MongoDB -----
# setup.sh constructs this URL from: mongodb://[user:password@]host:port/database
# With auth: mongodb://username:password@10.13.8.2:27017/dataq-analyzer
# No auth:   mongodb://10.13.8.2:27017/dataq-analyzer
MONGODB_URI=

# ----- MQTT Configuration -----
# setup.sh constructs MQTT_BROKER_URL from: mqtt[s]://[user:password@]host:port
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_USE_TLS=false
MQTT_TOPIC_PREFIX=dataq/#

# ----- CORS Configuration -----
# Set to frontend URL in production (e.g., http://192.168.1.100:8080)
# Use * for development to allow all origins
# For multiple origins, use comma-separated list: http://localhost:8080,http://192.168.1.100:8080
CORS_ORIGIN=*

# =============================================
# Docker-Specific Configuration
# (Only needed if using bundled MongoDB)
# =============================================
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=changeme
MONGO_PORT=27017
